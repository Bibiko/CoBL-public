digraph g { // neato -Tpdf -O database_structure.dot
  ordering=out;
  fontsize=10;
  overlap=scale;
  splines=true;
  sep=0.2;
  ratio=0.7;
  label="Cognate dictionary database schema";
  node [shape=Mrecord];
  edge [arrowhead=dot];

  lexeme [pos="2,3!",style=filled,
	label="{LEXEMES |<id> id |<lid> language_id |<mid> meaning_id | source_form | phon_form | gloss | notes }"];
  source [pos="7,3!",style=filled,
	label="{SOURCES |<id> id |{type_code |{book | person | url}}| description | citation }"];
  meaning [pos="1,2!",style=filled,
	label="{MEANINGS |<id> id | dyen_code | gloss }"];
  language [pos="1,4!",style=filled,
	label="{LANGUAGES |<id> id | iso_code | ascii_name | utf8_name | dyen_name}"];
  cogset [pos="4,4!",style=filled,
	label="{COGNATE\nSETS |<id> id | reconstruction}"];
  biological [pos="4,1!",style=filled,
	label="{BIOLOGICAL\nRELATIONS | <id> id |{descriptor |{M | MZ | etc.}}}"];
  dyen_name [pos="0,4.5!",style=filled,
	label="{Dyen names |<lid> language_id | name}"];
  abvd_name [pos="0,3.5!",style=filled,
	label="{ABVD names |<lid> language_id | name}"];
  key1 [pos="0,1!", label="independent table", style=filled];
  key2 [pos="2,1!", label="many-to-many table"];
  key2 -> key1 [label="Foreign key"];

  // Many to many tables
  judgement [pos="3,4.5!",
	label="{Cognate\nJudgements |<id> id |<fid> lexeme_id |<cid> cog_set_id}"];
  formsource [pos="5,3!",
	label="{Lexeme sources |<fid> lexeme_id |<sid> source_id}"];
  judgesource [pos="5,5!",
	label="{Cognate Judgement\nsources |<jid> judgement_id |<sid> source_id | reliability}"];
  cogsource [pos="5,4!",
	label="{Reconstruction\n sources |<cid> cog_set_id |<sid> source_id}"];
  formbio [pos="3,2!",
	label="{Extensions\n(i.e. “lexeme can\n  refer to relation”) |<id> id |<fid> lexeme_id |<bid> bio_rel_id}"];
  biosource [pos="5,2!",
	label="{Extension sources |<lid> link_id |<sid> source_id | reliability}"];

  // meaning [pos="1,1!"];	
  // language [pos="1,2!"];
  // lexeme [pos="2,1.5!"];
  // formsource [pos="4,1!"];
  // judgesource [pos="4.5,2.5!"];
  // cogsource [pos="5,1.5!"];
  // source [pos="6,1.5!"];
  // cogset [pos="4,1.5!"];
  // judgement [pos="3,2!"];
  // biological [pos="4,0!"];
  // formbio [pos="3,0.5!"];

  judgement:fid -> lexeme:id [weight=8]; 
  judgement:cid -> cogset:id [weight=8];
  formsource:fid -> lexeme:id;
  formsource:sid -> source:id;
  judgesource:jid -> judgement:id;
  judgesource:sid -> source:id;
  cogsource:cid -> cogset:id;
  cogsource:sid -> source:id;
  lexeme:lid -> language:id;
  lexeme:mid -> meaning:id;

  formbio:fid -> lexeme:id [style=dashed];
  formbio:bid -> biological:id [style=dashed];
  biosource:lid -> formbio:id [style=dashed];
  biosource:sid -> source:id [style=dashed];

  dyen_name:lid -> language:id;
  abvd_name:lid -> language:id;
}
