{% extends "base.html" %}
{% load lexicon_utils %}
{% load staticfiles %}
{% load wtforms %}

{% block title %}
  Language list: {{ current_language_list_name }}
{% endblock %}

{% block top %}
{% endblock %}

{% block controls %}
  <li class="navbar-text">
    List:
  </li>
  <li class="navbar-text dropdown"
      title="Select language list"
      data-toggle="tooltip"
      data-placement="bottom">
    <button class="btn btn-default dropdown-toggle"
            type="button" id="languageListSelection"
            data-toggle="dropdown"
            aria-haspopup="true"
            aria-expanded="true"
            style="padding: 0px;">
      {{ current_list }}
      <span class="caret"></span>
    </button>
    <ul class="dropdown-menu" aria-labelledby="languageListSelection"
        style="overflow-y: scroll; height: 23em;">
      {% for ll in otherLanguageLists %}
        <li><a href="/languagelist/{{ ll.name }}">{{ ll.name }}</a></li>
      {% endfor %}
    </ul>
  </li>
  <li>
    <a href="?exportCsv=utf8_name,mean_timedepth_BP_years,std_deviation_timedepth_BP_years,level0,level1"
       title="Download current language list as .csv"
       data-toggle="tooltip" data-placement="bottom">
      <span class="glyphicon glyphicon-download-alt"></span>
    </a>
  </li>
  {% include "snippets/go_to.html" %}
{% endblock %}

{% block content %}
  <div class="row">
    <div class="col-md-12">
      {% if user.is_authenticated and user.is_staff %}
        <form action="" method="POST" name="langlist_ed_form">
          {% csrf_token %}
          <div class="form-group pull-right">
            <a href="{% url 'view-language-list' current_list.name %}" class="btn btn-default"> undo</a>
            <input type="submit" value="Save" name="langlist_form" class="btn btn-danger">
          </div>
          <h1 class="inline">Language list: {{ current_language_list_name }}</h1>
            <a href="{% url 'language-add-new' current_language_list_name %}"
               class="btn btn-default"
               data-toggle="tooltip" data-placement="bottom"
               title="Add new language">
              <span class="glyphicon glyphicon-plus"></span>
              lg
            </a>
            <a href="{% url 'add-language-list' %}"
               class="btn btn-default"
               data-toggle="tooltip" data-placement="bottom"
               title="New language list">
              <span class="glyphicon glyphicon-plus"></span>
              lg list
            </a>
            <a href="{% url 'edit-language-list' current_language_list_name %}"
               class="btn btn-default"
               data-toggle="tooltip" data-placement="bottom"
               title="Edit language list">
              <span class="glyphicon glyphicon-edit"></span>
              lg list ‘{{ current_language_list_name }}’
            </a>
            <a href="{% url 'reorder-language-list' current_language_list_name %}"
               class="btn btn-default"
               data-toggle="tooltip" data-placement="bottom"
               title="Edit sort order">
              <span class="glyphicon glyphicon-edit"></span>
              sort order ‘{{ current_language_list_name }}’
            </a>
      {% endif %}
        <table class="table table-striped viewTableFilter">
          <thead>
            <tr>
              {% include "language_list/entryno_title.html" %}
              {% include "language_list/name_title.html" %}
              {% include "language_list/beast_title.html" %}
              {% include "language_list/variety_title.html" %}
              <th></th>{# title for edit #}
              {% include "language_list/iso_title.html" %}
              {% include "language_list/glotto_title.html" %}
              {% include "language_list/meantd_title.html" %}
              {% include "language_list/stddev_title.html" %}
              {% include "language_list/earliest_title.html" %}
              {% include "language_list/latest_title.html" %}
              {% include "language_list/reference_title.html" %}
              {% include "language_list/fossstat_title.html" %}
              {% include "language_list/lowstat_title.html" %}
              {% include "language_list/webpath_title.html" %}
              {% include "language_list/author_title.html" %}
              {% include "language_list/reviewer_title.html" %}
              {% include "language_list/toomany_title.html" %}
              {% include "language_list/mgs_title.html" %}
              {% include "language_list/lex_title.html" %}
              {% include "language_list/entd_title.html" %}
              {% include "language_list/lv_title.html" %}
              {% include "language_list/sndcomp_title.html" %}
            </tr>
            <tr>
              {% include "language_list/entryno_filter.html" %}
              {% include "language_list/name_filter.html" %}
              {% include "language_list/beast_filter.html" %}
              {% include "language_list/variety_filter.html" %}
              <th></th>{# filter for edit #}
              {% include "language_list/iso_filter.html" %}
              {% include "language_list/glotto_filter.html" %}
              {% include "language_list/meantd_filter.html" %}
              {% include "language_list/stddev_filter.html" %}
              {% include "language_list/earliest_filter.html" %}
              {% include "language_list/latest_filter.html" %}
              {% include "language_list/reference_filter.html" %}
              {% include "language_list/fossstat_filter.html" %}
              {% include "language_list/lowstat_filter.html" %}
              {% include "language_list/webpath_filter.html" %}
              {% include "language_list/author_filter.html" %}
              {% include "language_list/reviewer_filter.html" %}
              {% include "language_list/toomany_filter.html" %}
              {% include "language_list/mgs_filter.html" %}
              {% include "language_list/lex_filter.html" %}
              {% include "language_list/entd_filter.html" %}
              {% include "language_list/lv_filter.html" %}
              {% include "language_list/sndcomp_filter.html" %}
            </tr>
          </thead>
          <tbody>
            {% for language in lang_ed_form.langlist %}
              <tr>
                {% include "language_list/entryno_data.html" %}
                {% include "language_list/name_data.html" %}
                {% include "language_list/beast_data.html" %}
                {% include "language_list/variety_data.html" %}
                {% include "language_list/edit_data.html" %}
                {% include "language_list/iso_data.html" %}
                {% include "language_list/glotto_data.html" %}
                {% include "language_list/meantd_data.html" %}
                {% include "language_list/stddev_data.html" %}
                {% include "language_list/earliest_data.html" %}
                {% include "language_list/latest_data.html" %}
                {% include "language_list/reference_data.html" %}
                {% include "language_list/fossstat_data.html" %}
                {% include "language_list/lowstat_data.html" %}
                {% include "language_list/webpath_data.html" %}
                {% include "language_list/author_data.html" %}
                {% include "language_list/reviewer_data.html" %}
                {% include "language_list/toomany_data.html" %}
                {% include "language_list/mgs_data.html" %}
                {% include "language_list/lex_data.html" %}
                {% include "language_list/entd_data.html" %}
                {% include "language_list/lv_data.html" %}
                {% include "language_list/sndcomp_data.html" %}
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% if user.is_authenticated and user.is_staff %}
        </form>
      {% endif %}
    </div>
  </div>
{% endblock %}
{# vim: set ft=htmldjango nowrap shiftwidth=2 expandtab: #}
